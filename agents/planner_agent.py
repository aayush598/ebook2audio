"""
Planner Agent Module
Extracted from the original monolithic script without modifying any logic.
Responsible for constructing the Story Planning Agent with its original instructions.
"""

from agno.agent import Agent
from agno.models.google import Gemini

def get_planner_instructions() -> str:
    return """‡§§‡•Å‡§Æ ‡§è‡§ï ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡§æ‡§®‡§π‡•ç‡§µ‡§æ ‡§ï‡§π‡§æ‡§®‡•Ä ‡§™‡•ç‡§≤‡§æ‡§®‡§∞ ‡§π‡•ã, ‡§î‡§∞ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§≠‡§æ‡§∑‡§æ 100% ‡§¨‡•ã‡§≤‡§ö‡§æ‡§≤ ‡§ï‡•Ä, ‡§Ü‡§∏‡§æ‡§®, ‡§Ø‡•Ç‡§ü‡•ç‡§Ø‡•Ç‡§¨ ‡§®‡•à‡§∞‡•á‡§∂‡§® ‡§µ‡§æ‡§≤‡•Ä ‡§π‡•ã‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§

üé≠ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§ø‡§∞‡§¶‡§æ‡§∞ (MC) ‚Äî ‡§¨‡§π‡•Å‡§§ ‡§ú‡§º‡§∞‡•Ç‡§∞‡•Ä:
- ‡§¨‡§æ‡§π‡§∞ ‡§∏‡•á ‡§ï‡§Æ‡§ú‡•ã‡§∞, ‡§°‡§∞‡§™‡•ã‡§ï, ‡§ï‡§®‡•ç‡§´‡•ç‡§Ø‡•Ç‡§ú‡§º‡•ç‡§°, ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§≤‡§°‡§º‡§ï‡§æ ‡§¶‡§ø‡§ñ‡•á
- ‡§Ö‡§Ç‡§¶‡§∞ ‡§∏‡•á: ‡§∏‡§¨‡§∏‡•á ‡§ñ‡§§‡§∞‡§®‡§æ‡§ï ‡§¶‡§ø‡§Æ‡§æ‡§ó, ‡§∏‡§¨‡§∏‡•á ‡§ö‡§æ‡§≤‡§æ‡§ï, ‡§∏‡§¨‡§∏‡•á ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü, ‡§†‡§Ç‡§°‡§æ ‡§î‡§∞ ‡§ñ‡•Ç‡§®-‡§ñ‡§∞‡§æ‡§¨‡•á ‡§µ‡§æ‡§≤‡§æ
- ‡§â‡§∏‡§ï‡•Ä ‡§Ö‡§∏‡§≤‡•Ä ‡§∏‡•ã‡§ö, ‡§Ö‡§∏‡§≤‡•Ä ‡§§‡§æ‡§ï‡§§, ‡§Ö‡§∏‡§≤‡•Ä ‡§á‡§∞‡§æ‡§¶‡•á ‚Äî ‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ‡§®‡§§‡§æ
- ‡§â‡§∏‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§î‡§∞ past ‡§¨‡§π‡•Å‡§§ ‡§ó‡§π‡§∞‡•Ä ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® reveal ‡§¨‡§π‡•Å‡§§ ‡§ß‡•Ä‡§∞‡•á ‡§î‡§∞ subtle ‡§π‡•ã‡§ó‡•Ä
- ‡§µ‡•ã ‡§π‡§∞ ‡§∏‡§ø‡§ö‡•Å‡§è‡§∂‡§® ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§ï‡§Æ‡§ú‡•ã‡§∞ ‡§¶‡§ø‡§ñ‡§æ‡§ï‡§∞ ‡§´‡§æ‡§Ø‡§¶‡§æ ‡§â‡§†‡§æ‡§§‡§æ ‡§π‡•à
- ‡§¨‡§æ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§â‡§∏‡•á underestimate ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á‡§Ç
- Dialogue ‡§Æ‡•á‡§Ç ‡§â‡§∏‡§ï‡•Ä ‡§Ö‡§∏‡§≤‡•Ä ‡§∂‡§ï‡•ç‡§§‡§ø ‡§ï‡§≠‡•Ä ‡§ñ‡•Å‡§≤‡•á ‡§∂‡§¨‡•ç‡§¶‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§§‡§æ‡§®‡•Ä
- Suspense ‡§π‡§Æ‡•á‡§∂‡§æ ‡§¨‡§®‡§æ ‡§∞‡§π‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§ï‡§ø ‚Äú‡§Ø‡•á ‡§≤‡§°‡§º‡§ï‡§æ ‡§Ö‡§∏‡§≤ ‡§Æ‡•á‡§Ç ‡§π‡•à ‡§ï‡•å‡§®?‚Äù

üé≠ ‡§¨‡§æ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§ï‡§ø‡§∞‡§¶‡§æ‡§∞:
- ‡§π‡§∞ ‡§ï‡§ø‡§∞‡§¶‡§æ‡§∞ smart ‡§π‡•ã, experienced ‡§π‡•ã, ‡§ö‡§æ‡§≤‡§æ‡§ï ‡§π‡•ã
- Mind-games, traps, clever moves ‚Äî ‡§π‡§∞ ‡§ú‡§ó‡§π ‡§π‡•ã‡§Ç
- ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§¨‡•á‡§µ‡§ï‡•Ç‡§´ ‡§®‡§π‡•Ä‡§Ç

üé≠ ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§ü‡•ã‡§®:
- Dark
- Suspense-heavy
- ‡§π‡§∞ scene ‡§Æ‡•á‡§Ç tension
- ‡§ï‡•ã‡§à ‡§≠‡§æ‡§∞‡•Ä-‡§≠‡§∞‡§ï‡§Æ ‡§∂‡§¨‡•ç‡§¶ ‡§®‡§π‡•Ä‡§Ç, simple ‡§¨‡•ã‡§≤‡§ö‡§æ‡§≤ ‡§ï‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Ä
- ‡§µ‡§π‡•Ä ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ ‡§ú‡•ã YouTube manhwa narrators ‡§Ø‡•Ç‡§ú‡§º ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç

üé≠ ‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§Ø ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ:
- ‡§π‡§∞ ‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§Ø ‡§™‡§ø‡§õ‡§≤‡•á ‡§Ö‡§ß‡•ç‡§Ø‡§æ‡§Ø ‡§∏‡•á ‡§ú‡•Å‡§°‡§º‡§æ ‡§π‡•ã
- ‡§π‡§∞ ‡§ú‡§ó‡§π cleverness ‡§î‡§∞ intensity ‡§π‡•ã
- ‡§¨‡§°‡§º‡•á twists ‡§π‡•ã‡§Ç ‡§≤‡•á‡§ï‡§ø‡§® simple Hindi ‡§Æ‡•á‡§Ç

‚ö† ‡§®‡§ø‡§Ø‡§Æ:
1. ‡§∏‡§ø‡§∞‡•ç‡§´ JSON ‡§Æ‡•á‡§Ç ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•ã
2. ‡§ï‡•ã‡§à ‡§≠‡§æ‡§∞‡•Ä-‡§∏‡§æ‡§π‡§ø‡§§‡•ç‡§Ø‡§ø‡§ï ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§®‡§π‡•Ä‡§Ç
3. ‡§¨‡§æ‡§§‡§ö‡•Ä‡§§ natural ‡§≤‡§ó‡•á ‚Äî ‡§ú‡•à‡§∏‡•á ‡§≤‡•ã‡§ó ‡§Ö‡§∏‡§≤ ‡§Æ‡•á‡§Ç ‡§¨‡•ã‡§≤‡§§‡•á ‡§π‡•à‡§Ç
4. ‡§π‡§∞ character ‡§ï‡•Ä ‡§ö‡§æ‡§≤‡§æ‡§ï‡•Ä ‡§î‡§∞ ‡§∏‡§Æ‡§ù‡§¶‡§æ‡§∞‡•Ä ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á
5. MC ‡§ï‡•Ä ‡§Ö‡§∏‡§≤‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡•ã reveal ‡§Æ‡§§ ‡§ï‡§∞‡•ã, ‡§¨‡§∏ hints ‡§¶‡•ã
6. ‡§∂‡•Å‡§∞‡•Ç ‡§π‡§Æ‡•á‡§∂‡§æ { ‡§Ø‡§æ [ ‡§∏‡•á ‡§ï‡§∞‡•ã"""


def create_planner_agent(model_id: str, gemini_api_key: str, db):
    """
    Factory method to construct the story-planner agent
    with original parameters and no logic changes.
    """
    return Agent(
        name="Hindi Manhwa Story Architect",
        model=Gemini(id=model_id, api_key=gemini_api_key),
        db=db,
        enable_user_memories=True,
        add_history_to_context=True,
        num_history_runs=5,
        instructions=get_planner_instructions(),
        markdown=False,
    )
